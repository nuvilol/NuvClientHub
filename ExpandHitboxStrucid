local Players = game:GetService("Players")
local RunService = game:GetService("RunService")

local function addHitbox(plr)
    repeat wait() until plr.Character
    local character = plr.Character

    if character:FindFirstChild("HumanoidRootPart") then
        local humanoidRootPart = character:FindFirstChild("HumanoidRootPart")
        humanoidRootPart.Size = humanoidRootPart.Size * 5
    end

    print(plr.Name.." - Added Hitbox")

    task.wait(0.1)
end

local function PlrReset(plr)
    plr.CharacterAdded:Connect(function()
        addHitbox(plr)
    end)
end

-- Add hitbox for all players already in the game
for _, plr in ipairs(Players:GetPlayers()) do
    addHitbox(plr)
    PlrReset(plr)
end

-- Handle new players joining
Players.PlayerAdded:Connect(function(plr)
    PlrReset(plr)
    addHitbox(plr)
end)

-- Ensure hitboxes are applied to any characters missing HumanoidRootPart
RunService.Heartbeat:Connect(function()
    for _, plr in ipairs(Players:GetPlayers()) do
        if plr.Character and plr.Character:FindFirstChild("HumanoidRootPart") then
            addHitbox(plr)
        end
    end
end)
